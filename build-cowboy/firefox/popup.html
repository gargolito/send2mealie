<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Send to Mealie (Insecure/Dev)</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <h3>Send to Mealie</h3>
  <div style="font-size: 11px; color: #d93025; margin-bottom: 8px; padding: 4px; background: #fef7e0; border-radius: 4px;">
    ⚠️ Insecure/Dev Version - Allows HTTP and IP addresses
  </div>
  <label>Mealie URL</label>
  <input id="mealieUrl" type="text" placeholder="http://192.168.1.100:9000">
  <label>API Token</label>
  <input id="mealieApiToken" type="password" placeholder="••••••">
  <div class="row">
    <button id="testBtn">Test Connection</button>
  </div>
  <hr>
  <label>
    <input type="checkbox" id="enableDuplicateCheck" checked> Check for duplicates before sending
  </label>
  <hr>
  <label>Add another site (via recipe page)</label>
  <input id="customSiteUrl" type="text" placeholder="https://example.com/recipe_page">
  <button id="addSiteBtn">Add Site</button>
  <div style="font-size: 12px; color: #666; margin-top: 8px;">
    Click "Add Site", grant permission when asked, then click on the extension again and confirm that the site is added.
  </div>
  <label style="margin-top: 16px;">Allowed Sites <button class="info-btn" id="infoBtn">*</button></label>
  <div id="sitesList"></div>
  <div id="modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">Default Supported Sites</div>
      <ul class="modal-list" id="defaultSitesList"></ul>
      <button class="modal-close" id="modalClose">Close</button>
    </div>
  </div>
  <div class="footer">
      1.6.1 (Insecure/Dev)
  </div>
  <script src="popup.js"></script>
</body>
</html>